(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],h=0,d=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"1ad7":function(t,e,n){"use strict";n("4321")},4321:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=n("5c96"),s=n.n(r),o=(n("0fae"),n("b8ae")),i=n("c0d8"),c=n.n(i),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-row",{staticClass:"nav"},[null==t.account?e("div",[e("el-button",{staticStyle:{"background-color":"lightskyblue","margin-top":"19px",float:"right","margin-right":"30px"},attrs:{round:""},on:{click:function(e){t.walletConnectDialog=!0}}},[t._v("Connect to wallet")])],1):e("div",{staticClass:"account-info"},[e("div",{staticClass:"account"},[e("el-tag",{attrs:{type:"success"}},[t._v(t._s(t.currentConnect))]),t._v(" "+t._s(t.account)+" ")],1)])]),e("el-row",[null==t.account?e("el-empty",{staticStyle:{"margin-top":"30px"}}):e("el-col",[e("el-form",{ref:"transferForm",attrs:{model:t.transferForm,rules:t.transferFormRules,"label-width":"180px"}},[e("el-form-item",{attrs:{label:"Contract",prop:"contract"}},[e("el-input",{model:{value:t.transferForm.contract,callback:function(e){t.$set(t.transferForm,"contract",e)},expression:"transferForm.contract"}})],1),e("el-form-item",{attrs:{label:"Decimals",prop:"decimals"}},[e("el-input-number",{attrs:{min:6,max:18},model:{value:t.transferForm.decimals,callback:function(e){t.$set(t.transferForm,"decimals",e)},expression:"transferForm.decimals"}})],1),e("el-form-item",{attrs:{label:"Recipient address",prop:"to"}},[e("el-input",{model:{value:t.transferForm.to,callback:function(e){t.$set(t.transferForm,"to",e)},expression:"transferForm.to"}})],1),e("el-form-item",{attrs:{label:"Amount",prop:"amount"}},[e("el-input-number",{attrs:{min:1e-18},model:{value:t.transferForm.amount,callback:function(e){t.$set(t.transferForm,"amount",e)},expression:"transferForm.amount"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)],1),e("el-dialog",{attrs:{title:"Connect to wallet",visible:t.walletConnectDialog,width:t.walletConnectDialogWidth},on:{"update:visible":function(e){t.walletConnectDialog=e}}},[e("div",{staticClass:"wallet-connect"},[t.pc&&t.metaMaskInstalled?e("div",{staticClass:"wallet-connect-item",on:{click:t.openMetaMask}},[e("div",{staticStyle:{float:"left","padding-left":"30px"}},[t._v(" Metamask ")]),e("div",{staticStyle:{float:"right"}},[e("img",{staticStyle:{height:"40px","padding-right":"30px"},attrs:{src:n("80cc")}})])]):t._e(),e("div",{staticClass:"wallet-connect-item",on:{click:t.openWalletConnect}},[e("div",{staticStyle:{float:"left","padding-left":"30px"}},[t._v(" Walletconnect ")]),e("div",{staticStyle:{float:"right"}},[e("img",{staticStyle:{height:"40px","padding-right":"30px"},attrs:{src:n("5983")}})])])])]),e("el-dialog",{attrs:{title:"Transaction Hash",visible:t.txHashDialog,width:t.walletConnectDialogWidth},on:{"update:visible":function(e){t.txHashDialog=e}}},[e("div",{staticStyle:{"text-align":"center",margin:"30px 0"}},[e("el-link",{attrs:{type:"primary",href:t.network.browser+"/tx/"+t.txHash,target:"_blank"}},[t._v(t._s(t.txHash))])],1)]),e("el-dialog",{attrs:{title:"Waiting for response",visible:t.waitDialog,width:t.walletConnectDialogWidth},on:{"update:visible":function(e){t.waitDialog=e}}},[e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticStyle:{width:"100%",height:"400px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.06)"}})],1)],1)},u=[],h=n("72c2"),d=n("e07a"),m=n("745c"),p=n.n(m),g=n("3a34"),f=n.n(g);const b=window.ethereum;new f.a;var w={name:"App",data(){return{pc:h["a"].desktop(),account:null,metaMaskInstalled:!1,walletConnectDialog:!1,txHashDialog:!1,txHash:"",waitDialog:!1,walletConnectDialogWidth:h["a"].desktop()?"40%":"100%",currentConnect:void 0,walletConnect:void 0,Web3j:void 0,connectType:{metamask:"Metamask",walletconnect:"Walletconnect"},network:{chainId:97,chainName:"Binance Smart Chain Testnet",browser:"https://testnet.bscscan.com",node:"https://data-seed-prebsc-2-s3.binance.org:8545/",gasLimit:""},transferForm:{contract:"0x46D973fAf475114b6D52C3E3769a6738F467c05f",decimals:18,to:"",amount:void 0},transferFormRules:{contract:[{required:!0,message:"Please enter the contract address",trigger:"blur"}],decimals:[{required:!0,message:"Please enter the contract decimals",trigger:"blur"}],to:[{required:!0,message:"Please enter the recipient address",trigger:"blur"}],amount:[{required:!0,message:"Please enter the amount",trigger:"blur"}]}}},created(){this.pc&&"undefined"!==typeof window.ethereum&&(this.metaMaskInstalled=!0)},methods:{async openMetaMask(){let t=await b.request({method:"eth_requestAccounts"}).catch(t=>{this.$message({message:t.message,type:"error"})});this.account=t[0],this.currentConnect=this.connectType.metamask,this.walletConnectDialog=!1},async openWalletConnect(){this.currentConnect=this.connectType.walletconnect,this.connector=await new d["a"]({bridge:"https://bridge.walletconnect.org",qrcodeModal:p.a}),this.connector.connected?(console.log(this.connector),await this.checkChainId()?(this.account=this.connector.accounts[0],this.walletConnectDialog=!1):await this.connector.killSession(t=>{console.log(t)})):await this.connector.createSession(),this.connector.on("connect",(t,e)=>{if(t)throw t;this.checkChainId()&&(this.account=e.params[0].accounts[0],this.walletConnectDialog=!1)}),this.connector.on("accountsChanged",t=>{console.log(t)}),this.connector.on("chainChanged",t=>{console.log(t)}),this.connector.on("disconnect",(t,e)=>{if(t)throw t;console.log(e)})},async checkChainId(){let t=!1;return t=this.currentConnect===this.connectType.walletconnect?this.connector.chainId===this.network.chainId:Number.parseInt(window.ethereum.chainId)===this.network.chainId,t||this.$message({message:"Please switch to"+this.network.chainName,type:"warning"}),t},async onSubmit(){await this.$refs["transferForm"].validate(t=>{if(!t)return!1;this.checkChainId()&&(this.Web3.utils.isAddress(this.transferForm.contract,this.network.chainId)?this.Web3.utils.isAddress(this.transferForm.to,this.network.chainId)?this.currentConnect===this.connectType.walletconnect?this.submitWalletConnectTx():this.submitMetaMaskTx():this.$message({message:"Please enter the correct recipient address",type:"error"}):this.$message({message:"Please enter the correct contract address",type:"error"}))})},async submitMetaMaskTx(){const t={to:this.transferForm.contract,from:this.account,value:"0x00",data:this.buildSignatureData(),chainId:"0x"+this.network.chainId.toString(16)};await b.request({method:"eth_sendTransaction",params:[t]}).then(t=>{this.txHash=t,this.txHashDialog=!0}).catch(t=>{console.log(t),this.$message({message:t.message,type:"error"})})},async submitWalletConnectTx(){this.waitDialog=!0;const t={from:this.account,to:this.transferForm.contract,data:this.buildSignatureData(),value:"0x00"};console.log(t.data),await this.connector.sendTransaction(t).then(t=>{this.waitDialog=!1,this.txHash=t,this.txHashDialog=!0}).catch(t=>{console.error(t),this.$message({message:t.message,type:"error"}),this.waitDialog=!1})},getWeb3Unit(){let t=Math.pow(10,this.transferForm.decimals)+"",e=Object.keys(this.Web3.utils.unitMap);for(let n of e)if(this.Web3.utils.unitMap[n]==t)return n;this.$message({message:"Current precision is not supported",type:"error"})},buildSignatureData(){let t=this.Web3.utils.toWei(this.transferForm.amount+"",this.getWeb3Unit());return console.log(this.Web3.utils.toHex(t)),console.log(this.transferForm.to.substr(2)),"0xa9059cbb"+this.addPreZero(this.transferForm.to.substr(2))+this.addPreZero(this.Web3.utils.toHex(t).substr(2))},addPreZero(t){let e=(t+"").length,n="";for(let a=0;a<64-e;a++)n+="0";return n+t}}},v=w,x=(n("1ad7"),n("2877")),y=Object(x["a"])(v,l,u,!1,null,null,null),k=y.exports;a["default"].use(s.a),a["default"].use(o["VuePlugin"]),a["default"].config.productionTip=!1,a["default"].prototype.Web3=c.a,new a["default"]({render:t=>t(k)}).$mount("#app")},5983:function(t,e,n){t.exports=n.p+"img/walletconnect.e9e5e172.jpg"},"80cc":function(t,e){t.exports="data:image/jpeg;base64,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"}});
//# sourceMappingURL=app.d46f40b8.js.map